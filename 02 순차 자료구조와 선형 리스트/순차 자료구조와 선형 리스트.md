# 순차 자료구조와 선형 리스트



자료는 구조화하는 방법에 따라 리스트, 스택, 큐 등으로 나뉜다. 이러한 자료구조 유형을 구현하는 방식에는 순차 자료구조와 연결 자료구조가 있다. **순차 자료구조** 란 구현할 자료들을 논리적인 순서대로 메모리에 연속하여 저장하는 구현 방식이다. 따라서 **논리적인 순서와 물리적인 순서가 항상 일치**해야 한다. 

> C언어에서는 배열을 이용하여 구현한다.

| 메모리 저장 방식                                             | 연산 특징                                                    | 프로그램 기법      |
| ------------------------------------------------------------ | ------------------------------------------------------------ | ------------------ |
| 메모리의 저장 시작 위치부터 빈자리 없이 자료를 순서대로 연속하여 저장한다. | 삽입, 삭제 연산을 해도 빈자리 없이 자료가 순서대로 연속하여 저장된다. 변경된 논리적인 순서와 저장된 물리적인 순서가 일치한다. | 배열을 이용한 구현 |



### 선형 리스트

#### 개념

자료를 구조화하는 가장 기본적인 방법은 나열하는 것이고, 나열한 목록을 리스트라고 한다. 이때 원소들을 **순서대로** 나열한 리스트를 `선형 리스트` 또는 `순서 리스트`라고 한다. 원소가 하나도 없는 리스트는 `공백 리스트`라고 한다.



메모리에 순서대로 연속 저장되어 있는 선형 리스트에 새로운 원소를 삽입하려면, 삽입할 위치 다음에 있는 원소를 모두 한 자리씩 뒤로 옮겨야 한다. 

원소가 n개인 선형 리스트에서 k번 자리에 원소를 삽입하기 위해서는 k번 원소부터 마지막 원소인 n-1번 원소까지 총 (n-1)-k+1개 원소를 옮겨야 한다.

> 마지막 원소의 인덱스 - 삽입할 자리의 인덱스 + 1  => k번째 원소 자신 포함이기 때문에 +1

반대로, 원소가 n개인 선형 리스트에서 k번째 자리에 있는 원소를 삭제한 다음에는 k+1번 원소부터 마지막 원소인 n-1번 원소까지 총 (n-1)-(k+1)+1 = `n-k-1`개 원소를 옮겨야 한다.

> 전체 원소 개수 - 삭제한 원소의 인덱스 - 1 => 전체 원소의 개수보다 하나 적기 때문에 -1



#### 구현

선형 리스트는 배열을 사용해 순차 자료구조 방식을 구현한다. 배열은 <인덱스, 원소> 쌍으로 구성되어 메모리에 연속적으로 할당된다.

```c
int sale[4] = {157, 222, 456, 159}; 
// int형 원소의 길이는 각 4바이트이다. &sale[1]-&sale[0] = 4이다.
```

2차원 배열의 논리적 순서가 1차원 물리적 순서로 변환되는 방법에는 **행 우선 순서(인덱스 기준)**과 **열 우선 순서(마지막 인덱스 기준)** 방법이 있다. 논리 순서를 물리 순서로 변환하는 방법은 프로그래밍 언어의 컴파일러에 따라 결정되는데, C 컴파일러는 행 우선 순서 방법을 사용한다.

> c언어에서 `int a[4][10];` 배열 a가 할당된 시작 주소는 10000일 때, `a[2][8]`은 29번째 원소이며, 주소는 10116이다.

3차원 배열 또한 2차원 배열처럼 1차원 선형 구조가 된다.



#### 특징

+ 메모리에 연속된 공간을 사용한다.

+ 원소 순서를 따로 표시할 필요 없이 물리적 주소의 순서로 간단히 구성할 수 있고, 인덱스를 사용하여 주소를 계산할 수 있으므로 특정 원소에 쉽게 접근할 수 있다.
+ 원소를 삽입하거나 삭제할 경우에 물리적으로 밀거나 당겨서 유지해야 하므로 오버헤드가 발생한다.
+ 읽기, 쓰기, 순차 접근 같은 연산에서는 순차 자료구조가 효율적이다.

+ 선형 리스트를 응용한 예로는 다항식과 행렬이 있다.

+ 전체 원소를 순서대로 액세스하는 속도가 빠르다.





```
여기서 잠깐 퀴즈!

Q. 원소가 100개 있는 선형 리스트에서 열 번째 원소를 삭제하는 연산을 수행하였다. 원소의 이동 횟수는?

.
.
.

A. 원소가 n개인 선형 리스트에서 k번째 자리에 있는 원소를 삭제하면, 원소들의 이동 횟수는 n-k-1(전체 원소 개수-삭제한 원소의 인덱스-1)이다. 전체 원소의 개수는 100개이고 열 번째 원소의 인덱스는 9이므로, 이동 횟수는 100-9-1 = 90이 된다. 
```



